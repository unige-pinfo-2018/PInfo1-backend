CREATE DATABASE UNIHUB_DB;
USE UNIHUB_DB;

DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS ACCOUNT_CONFIRMATIONS;
DROP TABLE IF EXISTS RESET_PASSWORD_REQUEST;
DROP TABLE IF EXISTS NOTIFICATIONS;

CREATE TABLE USERS (
  ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  USERNAME VARCHAR(35) UNIQUE KEY,
  NAME VARCHAR(255),
  PASSWD VARCHAR(1000) NOT NULL,
  EMAIL VARCHAR(255) UNIQUE KEY NOT NULL,
  ROLE VARCHAR(50),
  CURRICULUM VARCHAR(255),
  PICTURE_URL VARCHAR(2083),
  CONFIRMED BOOLEAN
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE ACCOUNT_CONFIRMATIONS (
  ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  USER_EMAIL VARCHAR(255) NOT NULL,
  CONFIRMATION_ID VARCHAR(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE RESET_PASSWORD_REQUEST (
  ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  USER_EMAIL VARCHAR(255) NOT NULL,
  REQUEST_ID VARCHAR(50) NOT NULL
) ENGINE=InnoDB DEFAULT  CHARSET=utf8;

  CREATE TABLE NOTIFICATIONS (
    ID INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    USERNAME VARCHAR(35),
    CONTENT TEXT,
    DATE_CREATED DATETIME,
    IS_READ BOOLEAN
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8